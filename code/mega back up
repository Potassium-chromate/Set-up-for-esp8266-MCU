#include <Servo.h>

Servo myservo;  // create servo object to control a servo

void setup() {
  Serial.begin(9600); // start serial for output
  Serial1.begin(9600); // start serial1 for communication with ESP8266
  myservo.attach(9);  // attaches the servo on pin 9 to the servo object
}

void loop() {
  // Check if data is available to read
  if (Serial1.available()) {
    // Read the incoming data
    String angleStr = Serial1.readStringUntil('\n');

    // Convert the string to an integer
    int angle = angleStr.toInt();

    // Print the received angle
    Serial.println("Received angle: " + String(angle));

    // Control the servo motor
    myservo.write(angle);
  }
}
